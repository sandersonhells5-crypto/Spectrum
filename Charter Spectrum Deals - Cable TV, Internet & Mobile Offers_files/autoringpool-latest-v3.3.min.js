function cf_enrich_serilog(n,t){var i=cf_serilog,r=null;try{n&&(i=n);r=i.enrich(t)}catch(u){r=i;console.error("Failed to enrich serilog. Msg: "+u.message)}return r}function write_to_cf_serilog(){var n,t;try{if(arguments.length>=3){n=Array.prototype.shift.apply(arguments);n==null&&(n=cf_serilog);t=Array.prototype.shift.apply(arguments);switch(t){case LogSeverity.CRITICAL:case LogSeverity.ERROR:n.error.apply(this,arguments);break;case LogSeverity.INFORMATION:n.info.apply(this,arguments);break;case LogSeverity.WARNING:n.warn.apply(this,arguments);break;default:n.debug.apply(this,arguments)}}else console.error("Failed to write to serilog. Invalid number of arguments.")}catch(i){console.error("Failed to write to serilog. Msg: "+i.message)}}function enrich_cf_serilog(n,t){var i=cf_serilog,r=null;try{n&&(i=n);r=i.enrich(t)}catch(u){r=i;console.error("Failed to enrich serilog. Msg: "+u.message)}return r}function quote(n){return escapable.lastIndex=0,escapable.test(n)?'"'+n.replace(escapable,function(n){var t=meta[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function str(n,t){var r,e,u,o,s=gap,f,i=t[n];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(n));typeof rep=="function"&&(i=rep.call(t,n,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,f=[],Object.prototype.toString.apply(i)==="[object Array]"){for(o=i.length,r=0;r<o;r+=1)f[r]=str(r,i)||"null";return u=f.length===0?"[]":gap?"[\n"+gap+f.join(",\n"+gap)+"\n"+s+"]":"["+f.join(",")+"]",gap=s,u}if(rep&&typeof rep=="object")for(o=rep.length,r=0;r<o;r+=1)typeof rep[r]=="string"&&(e=rep[r],u=str(e,i),u&&f.push(quote(e)+(gap?": ":":")+u));else for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(u=str(e,i),u&&f.push(quote(e)+(gap?": ":":")+u));return u=f.length===0?"{}":gap?"{\n"+gap+f.join(",\n"+gap)+"\n"+s+"}":"{"+f.join(",")+"}",gap=s,u}}function cf_getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function getQueryVariableByName(n,t){var e="",i,o,u,r,f;if(typeof n!="undefined"&&typeof t!="undefined"&&(i=n.split("?"),typeof i!="undefined"&&i.length>1))for(o=i[1],u=o.split("&"),r=0;r<u.length;r++)if(f=u[r].split("="),f[0]==t){e=f[1];break}return e}function cf_hasParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+n+"=([^&#]*)",i=new RegExp(t),r=i.exec(window.location.search);return r!=null}function cf_setCookie(n,t,i){var r=new Date,u=new Date,f;r.setDate(r.getDate()+i);u.setTime(u.getTime()+54e5);f=escape(t)+(i==null?"; expires="+u.toUTCString():"; expires="+r.toUTCString());document.cookie=n+"="+f+"; path=/"}function cf_getCookie(n){for(var r,u,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),u=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==n)return unescape(u);return""}function cf_getSubId(){var n=cf_getParameterByName(subIdParam);return n!=null&&n!=""?(cf_setCookie(cookieName,n,cookieDays),n):cf_getCookie(cookieName)}function getCamId(){var n=cf_getCookie(camCookieName);return(n==null||n=="")&&(n=cf_getParameterByName(camIdParam),cf_setCookie(camCookieName,n,camCookieDays)),n}function getOcid(){var n=cf_getCookie("ocid");return(n==null||n=="")&&(n=cf_getParameterByName("ocid"),cf_setCookie("ocid",n,camCookieDays)),n}function getPOcid(){var n=cf_getCookie("pocid");return(n==null||n=="")&&(n=cf_getParameterByName("pocid"),cf_setCookie("pocid",n,camCookieDays)),n}function getObid(){var n=cf_getCookie("obid");return(n==null||n=="")&&(n=cf_getParameterByName("obid"),cf_setCookie("obid",n,camCookieDays)),n}function getAid(){var n=cf_getCookie("a");return(n==null||n=="")&&(n=cf_getParameterByName("a"),cf_setCookie("a",n,camCookieDays)),n}function cf_getPhoneNumber(n,t,i){var f=baseURL+"/api/ReserveNumbers/",r="",u,e;$("#customfield1").length>0&&(r=escape($("#customfield1").val()));u=f.concat("?ringPoolIDs=",JSON.stringify(n),"&subid=",cf_getSubId(),"&typeid=",t.toString(),"&camid=",getCamId(),"&cluster_text=",r,"&aid=",getAid(),"&ocid=",getOcid(),"&pocid=",getPOcid(),"&obid=",getObid(),"&callback=?");e=/*@cc_on!@*/!1;$.ajax({dataType:"jsonp",type:"get",url:u,success:function(n){i(n.response)},error:function(i,r,u){var f=encodeURIComponent(JSON.stringify({request:i,status:r,error:u,session_id:cf_getSubId()}));$.ajax({dataType:"jsonp",type:"get",url:(baseURL+"/api/ReserveTimeout/").concat("?ringPoolIDs=",JSON.stringify(n),"&subid=",cf_getSubId(),"&typeid=",t.toString(),"&camid=",getCamId(),"&errorMsg=",f,"&callback=?")})}})}function cf_setDisplayNumbers(n,t){$("a[ringpoolid="+n+"]").each(function(){var n,i;try{this.href.match("^tel:")!=null&&(this.href=this.href.replace(cf_getPlaceholder(this),cf_decodeHtml(t)),this.href=this.href.replace(encodeURIComponent(cf_getPlaceholder(this)),cf_decodeHtml(t)),n=cf_replaceAll(this.innerHTML,cf_getPlaceholder(this),t),$(this).html(n),$(this).show())}catch(r){i="test"}});$("span[ringpoolid="+n+"]").each(function(){var n=cf_getPlaceholder(this),i;$("a:not([ringpoolid])",this).each(function(){if(this.href.match("^tel:")!=null){this.href=this.href.replace(n,cf_decodeHtml(t));this.href=this.href.replace(encodeURIComponent(n),cf_decodeHtml(t));var i=cf_replaceAll(this.innerHTML,n,t);$(this).html(i)}});i=cf_replaceAll(this.innerHTML,n,t);$(this).html(i);$(this).show()})}function cf_setLinkoutNumbers(n,t,i,r){n.href.match("^tel:")==null&&(n.href=n.href.replace(cf_getPlaceholder(n),encrypt(cf_decodeHtml(i))),n.href=n.href.replace(encodeURIComponent(cf_getPlaceholder(n)),encrypt(cf_decodeHtml(i))),r.location=n.href)}function hideNumberFields(){$("[ringpoolid]:not([placeholder])").each(function(){$(this).hide()})}function cf_getPlaceholder(n){return typeof $(n).attr("placeholder")!="undefined"?$(n).attr("placeholder"):defaultPlaceholder}function cf_replaceAll(n,t,i){return n.replace(new RegExp(RegExp.escape(t),"g"),i)}function cf_decodeHtml(n){n=n.replace(/\&#8203;/g,"");return $("<div/>").html(n).text()}function IsNumeric(n){var t=+n==n&&(""+n).replace(/^\s+|\s+$/g,"").length>0,i;if(!t)try{i=cf_enrich_serilog(cf_serilog,{Href:window.location.href,Origin:window.location.origin});write_to_cf_serilog(i,LogSeverity.ERROR,"Empty ringpool id detected")}catch(r){}return t}function des(n,t,i,r,u,f){var ut=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ft=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],et=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],ot=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],st=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ht=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ct=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],lt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],b=des_createKeys(n),h=0,l,c,e,a,v,s,o,w,y,g,p,nt,tt,it,k=t.length,d=0,rt=b.length==32?3:9;for(w=rt==3?i?[0,32,2]:[30,-2,-2]:i?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],f==2?t+="        ":f==1?(e=8-k%8,t+=String.fromCharCode(e,e,e,e,e,e,e,e),e==8&&(k+=8)):f||(t+="\0\0\0\0\0\0\0\0"),result="",tempresult="",r==1&&(y=u.charCodeAt(h++)<<24|u.charCodeAt(h++)<<16|u.charCodeAt(h++)<<8|u.charCodeAt(h++),p=u.charCodeAt(h++)<<24|u.charCodeAt(h++)<<16|u.charCodeAt(h++)<<8|u.charCodeAt(h++),h=0);h<k;){for(s=t.charCodeAt(h++)<<24|t.charCodeAt(h++)<<16|t.charCodeAt(h++)<<8|t.charCodeAt(h++),o=t.charCodeAt(h++)<<24|t.charCodeAt(h++)<<16|t.charCodeAt(h++)<<8|t.charCodeAt(h++),r==1&&(i?(s^=y,o^=p):(g=y,nt=p,y=s,p=o)),e=(s>>>4^o)&252645135,o^=e,s^=e<<4,e=(s>>>16^o)&65535,o^=e,s^=e<<16,e=(o>>>2^s)&858993459,s^=e,o^=e<<2,e=(o>>>8^s)&16711935,s^=e,o^=e<<8,e=(s>>>1^o)&1431655765,o^=e,s^=e<<1,s=s<<1|s>>>31,o=o<<1|o>>>31,c=0;c<rt;c+=3){for(tt=w[c+1],it=w[c+2],l=w[c];l!=tt;l+=it)a=o^b[l],v=(o>>>4|o<<28)^b[l+1],e=s,s=o,o=e^(ft[a>>>24&63]|ot[a>>>16&63]|ht[a>>>8&63]|lt[a&63]|ut[v>>>24&63]|et[v>>>16&63]|st[v>>>8&63]|ct[v&63]);e=s;s=o;o=e}s=s>>>1|s<<31;o=o>>>1|o<<31;e=(s>>>1^o)&1431655765;o^=e;s^=e<<1;e=(o>>>8^s)&16711935;s^=e;o^=e<<8;e=(o>>>2^s)&858993459;s^=e;o^=e<<2;e=(s>>>16^o)&65535;o^=e;s^=e<<16;e=(s>>>4^o)&252645135;o^=e;s^=e<<4;r==1&&(i?(y=s,p=o):(s^=g,o^=nt));tempresult+=String.fromCharCode(s>>>24,s>>>16&255,s>>>8&255,s&255,o>>>24,o>>>16&255,o>>>8&255,o&255);d+=8;d==512&&(result+=tempresult,tempresult="",d=0)}return result+=tempresult,result=result.replace(/\0*$/g,"")}function des_createKeys(n){var o;pc2bytes0=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964];pc2bytes1=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697];pc2bytes2=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272];pc2bytes3=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144];pc2bytes4=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256];pc2bytes5=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488];pc2bytes6=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746];pc2bytes7=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568];pc2bytes8=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578];pc2bytes9=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488];pc2bytes10=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800];pc2bytes11=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744];pc2bytes12=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128];pc2bytes13=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261];var s=n.length>8?3:1,u=new Array(32*s),h=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],f,e,r=0,c=0,t;for(o=0;o<s;o++)for(left=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),right=n.charCodeAt(r++)<<24|n.charCodeAt(r++)<<16|n.charCodeAt(r++)<<8|n.charCodeAt(r++),t=(left>>>4^right)&252645135,right^=t,left^=t<<4,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>2^right)&858993459,right^=t,left^=t<<2,t=(right>>>-16^left)&65535,left^=t,right^=t<<-16,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=(right>>>8^left)&16711935,left^=t,right^=t<<8,t=(left>>>1^right)&1431655765,right^=t,left^=t<<1,t=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=t,i=0;i<h.length;i++)h[i]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,f=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],e=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],t=(e>>>16^f)&65535,u[c++]=f^t,u[c++]=e^t<<16;return u}function chars_from_hex(n){var i="",t;for(n=n.replace(/^(0x)?/g,""),n=n.replace(/[^A-Fa-f0-9]/g,""),n=n.split(""),t=0;t<n.length;t+=2)i+=String.fromCharCode(parseInt(n[t]+""+n[t+1],16));return i}function hex_from_chars(n){var f="",i="",r="0123456789abcdef",u,e,t;for(r=r.split(""),e=n.split(""),t=0;t<e.length;t++)t>0&&(i+=f),!f&&t%32==0&&t>0&&(i+="\n"),u=n.charCodeAt(t),i+=r[u>>4&15]+r[u&15];return i}function encrypt(n){return hex_from_chars(des("22FD71B5CAA7055CB7094C727F2C6E1B5A8CCC8052E8DADC",n,1))}var baseURL="//rs.cfringctr.com/",subIdParam="s1",cookieName="rc_sid",cookieDays=14,defaultPlaceholder="{number}",camIdParam="camid",camCookieName="rc_cid",is_wp=!1,camCookieDays=14,rc_enable_log=!1,is_bot=!1,LogSeverity={CRITICAL:1,ERROR:2,WARNING:4,INFORMATION:8,PROMISE:10,VERBOSE:16},cf_serilog;(function(n,t){var f={Identity:function(n){return n},True:function(){return!0},Blank:function(){}},e={Boolean:"boolean",Number:"number",String:"string",Object:"object",Undefined:typeof t,Function:typeof function(){}},p={"":f.Identity},r={createLambda:function(n){var t,l,i,a,u,o,r,s,h,v,c;if(n==null)return f.Identity;if(typeof n===e.String){if(t=p[n],t!=null)return t;if(n.indexOf("=>")===-1){for(l=new RegExp("[$]+","g"),i=0;(a=l.exec(n))!=null;)u=a[0].length,u>i&&(i=u);for(o=[],r=1;r<=i;r++){for(s="",h=0;h<r;h++)s+="$";o.push(s)}return v=Array.prototype.join.call(o,","),t=new Function(v,"return "+n),p[n]=t,t}return c=n.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/),t=new Function(c[1],"return "+c[2]),p[n]=t,t}return n},isIEnumerable:function(n){if(typeof Enumerator!==e.Undefined)try{return new Enumerator(n),!0}catch(t){}return!1},defineProperty:Object.defineProperties!=null?function(n,t,i){Object.defineProperty(n,t,{enumerable:!1,configurable:!0,writable:!0,value:i})}:function(n,t,i){n[t]=i},compare:function(n,t){return n===t?0:n>t?1:-1},dispose:function(n){n!=null&&n.dispose()}},l={Before:0,Running:1,After:2},u=function(n,t,i){var u=new b,r=l.Before;this.current=u.current;this.moveNext=function(){try{switch(r){case l.Before:r=l.Running;n();case l.Running:return t.apply(u)?!0:(this.dispose(),!1);case l.After:return!1}}catch(i){this.dispose();throw i;}};this.dispose=function(){if(r==l.Running)try{i()}finally{r=l.After}}},b=function(){var n=null;this.current=function(){return n};this.yieldReturn=function(t){return n=t,!0};this.yieldBreak=function(){return!1}},i=function(n){this.getEnumerator=n},s,a,y,o,h,c;i.Utils={};i.Utils.createLambda=function(n){return r.createLambda(n)};i.Utils.createEnumerable=function(n){return new i(n)};i.Utils.createEnumerator=function(n,t,i){return new u(n,t,i)};i.Utils.extendTo=function(n){var u=n.prototype,e,t,f;n===Array?(e=o.prototype,r.defineProperty(u,"getSource",function(){return this})):(e=i.prototype,r.defineProperty(u,"getEnumerator",function(){return i.from(this).getEnumerator()}));for(t in e)(f=e[t],u[t]!=f)&&(u[t]==null||(t=t+"ByLinq",u[t]!=f))&&f instanceof Function&&r.defineProperty(u,t,f)};i.choice=function(){var n=arguments;return new i(function(){return new u(function(){n=n[0]instanceof Array?n[0]:n[0].getEnumerator!=null?n[0].toArray():n},function(){return this.yieldReturn(n[Math.floor(Math.random()*n.length)])},f.Blank)})};i.cycle=function(){var n=arguments;return new i(function(){var t=0;return new u(function(){n=n[0]instanceof Array?n[0]:n[0].getEnumerator!=null?n[0].toArray():n},function(){return t>=n.length&&(t=0),this.yieldReturn(n[t++])},f.Blank)})};i.empty=function(){return new i(function(){return new u(f.Blank,function(){return!1},f.Blank)})};i.from=function(n){if(n==null)return i.empty();if(n instanceof i)return n;if(typeof n==e.Number||typeof n==e.Boolean)return i.repeat(n,1);if(typeof n==e.String)return new i(function(){var t=0;return new u(f.Blank,function(){return t<n.length?this.yieldReturn(n.charAt(t++)):!1},f.Blank)});if(typeof n!=e.Function){if(typeof n.length==e.Number)return new o(n);if(!(n instanceof Object)&&r.isIEnumerable(n))return new i(function(){var i=!0,t;return new u(function(){t=new Enumerator(n)},function(){return i?i=!1:t.moveNext(),t.atEnd()?!1:this.yieldReturn(t.item())},f.Blank)});if(typeof Windows===e.Object&&typeof n.first===e.Function)return new i(function(){var i=!0,t;return new u(function(){t=n.first()},function(){return i?i=!1:t.moveNext(),t.hasCurrent?this.yieldReturn(t.current):this.yieldBreak()},f.Blank)})}return new i(function(){var t=[],i=0;return new u(function(){var i,r;for(i in n)r=n[i],r instanceof Function||!Object.prototype.hasOwnProperty.call(n,i)||t.push({key:i,value:r})},function(){return i<t.length?this.yieldReturn(t[i++]):!1},f.Blank)})};i.make=function(n){return i.repeat(n,1)};i.matches=function(n,t,r){return r==null&&(r=""),t instanceof RegExp&&(r+=t.ignoreCase?"i":"",r+=t.multiline?"m":"",t=t.source),r.indexOf("g")===-1&&(r+="g"),new i(function(){var i;return new u(function(){i=new RegExp(t,r)},function(){var t=i.exec(n);return t?this.yieldReturn(t):!1},f.Blank)})};i.range=function(n,t,r){return r==null&&(r=1),new i(function(){var i,e=0;return new u(function(){i=n-r},function(){return e++<t?this.yieldReturn(i+=r):this.yieldBreak()},f.Blank)})};i.rangeDown=function(n,t,r){return r==null&&(r=1),new i(function(){var i,e=0;return new u(function(){i=n+r},function(){return e++<t?this.yieldReturn(i-=r):this.yieldBreak()},f.Blank)})};i.rangeTo=function(n,t,r){return r==null&&(r=1),n<t?new i(function(){var i;return new u(function(){i=n-r},function(){var n=i+=r;return n<=t?this.yieldReturn(n):this.yieldBreak()},f.Blank)}):new i(function(){var i;return new u(function(){i=n+r},function(){var n=i-=r;return n>=t?this.yieldReturn(n):this.yieldBreak()},f.Blank)})};i.repeat=function(n,t){return t!=null?i.repeat(n).take(t):new i(function(){return new u(f.Blank,function(){return this.yieldReturn(n)},f.Blank)})};i.repeatWithFinalize=function(n,t){return n=r.createLambda(n),t=r.createLambda(t),new i(function(){var i;return new u(function(){i=n()},function(){return this.yieldReturn(i)},function(){i!=null&&(t(i),i=null)})})};i.generate=function(n,t){return t!=null?i.generate(n).take(t):(n=r.createLambda(n),new i(function(){return new u(f.Blank,function(){return this.yieldReturn(n())},f.Blank)}))};i.toInfinity=function(n,t){return n==null&&(n=0),t==null&&(t=1),new i(function(){var i;return new u(function(){i=n-t},function(){return this.yieldReturn(i+=t)},f.Blank)})};i.toNegativeInfinity=function(n,t){return n==null&&(n=0),t==null&&(t=1),new i(function(){var i;return new u(function(){i=n+t},function(){return this.yieldReturn(i-=t)},f.Blank)})};i.unfold=function(n,t){return t=r.createLambda(t),new i(function(){var r=!0,i;return new u(f.Blank,function(){return r?(r=!1,i=n,this.yieldReturn(i)):(i=t(i),this.yieldReturn(i))},f.Blank)})};i.defer=function(n){return new i(function(){var t;return new u(function(){t=i.from(n()).getEnumerator()},function(){return t.moveNext()?this.yieldReturn(t.current()):this.yieldBreak()},function(){r.dispose(t)})})};i.prototype.traverseBreadthFirst=function(n,t){var f=this;return n=r.createLambda(n),t=r.createLambda(t),new i(function(){var e,s=0,o=[];return new u(function(){e=f.getEnumerator()},function(){for(;;){if(e.moveNext())return o.push(e.current()),this.yieldReturn(t(e.current(),s));var u=i.from(o).selectMany(function(t){return n(t)});if(u.any())s++,o=[],r.dispose(e),e=u.getEnumerator();else return!1}},function(){r.dispose(e)})})};i.prototype.traverseDepthFirst=function(n,t){var f=this;return n=r.createLambda(n),t=r.createLambda(t),new i(function(){var o=[],e;return new u(function(){e=f.getEnumerator()},function(){for(;;){if(e.moveNext()){var u=t(e.current(),o.length);return o.push(e),e=i.from(n(e.current())).getEnumerator(),this.yieldReturn(u)}if(o.length<=0)return!1;r.dispose(e);e=o.pop()}},function(){try{r.dispose(e)}finally{i.from(o).forEach(function(n){n.dispose()})}})})};i.prototype.flatten=function(){var n=this;return new i(function(){var e,t=null;return new u(function(){e=n.getEnumerator()},function(){for(;;){if(t!=null){if(t.moveNext())return this.yieldReturn(t.current());t=null}if(e.moveNext())if(e.current()instanceof Array){r.dispose(t);t=i.from(e.current()).selectMany(f.Identity).flatten().getEnumerator();continue}else return this.yieldReturn(e.current());return!1}},function(){try{r.dispose(e)}finally{r.dispose(t)}})})};i.prototype.pairwise=function(n){var t=this;return n=r.createLambda(n),new i(function(){var i;return new u(function(){i=t.getEnumerator();i.moveNext()},function(){var t=i.current();return i.moveNext()?this.yieldReturn(n(t,i.current())):!1},function(){r.dispose(i)})})};i.prototype.scan=function(n,t){var f,e;return t==null?(t=r.createLambda(n),f=!1):(t=r.createLambda(t),f=!0),e=this,new i(function(){var i,o,s=!0;return new u(function(){i=e.getEnumerator()},function(){if(s){if(s=!1,f)return this.yieldReturn(o=n);if(i.moveNext())return this.yieldReturn(o=i.current())}return i.moveNext()?this.yieldReturn(o=t(o,i.current())):!1},function(){r.dispose(i)})})};i.prototype.select=function(n){if(n=r.createLambda(n),n.length<=1)return new c(this,null,n);var t=this;return new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){return i.moveNext()?this.yieldReturn(n(i.current(),f++)):!1},function(){r.dispose(i)})})};i.prototype.selectMany=function(n,f){var e=this;return n=r.createLambda(n),f==null&&(f=function(n,t){return t}),f=r.createLambda(f),new i(function(){var s,o=t,h=0;return new u(function(){s=e.getEnumerator()},function(){if(o===t&&!s.moveNext())return!1;do{if(o==null){var u=n(s.current(),h++);o=i.from(u).getEnumerator()}if(o.moveNext())return this.yieldReturn(f(s.current(),o.current()));r.dispose(o);o=null}while(s.moveNext());return!1},function(){try{r.dispose(s)}finally{r.dispose(o)}})})};i.prototype.where=function(n){if(n=r.createLambda(n),n.length<=1)return new h(this,n);var t=this;return new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){while(i.moveNext())if(n(i.current(),f++))return this.yieldReturn(i.current());return!1},function(){r.dispose(i)})})};i.prototype.choose=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){while(i.moveNext()){var t=n(i.current(),f++);if(t!=null)return this.yieldReturn(t)}return this.yieldBreak()},function(){r.dispose(i)})})};i.prototype.ofType=function(n){var t;switch(n){case Number:t=e.Number;break;case String:t=e.String;break;case Boolean:t=e.Boolean;break;case Function:t=e.Function;break;default:t=null}return t===null?this.where(function(t){return t instanceof n}):this.where(function(n){return typeof n===t})};i.prototype.zip=function(){var e=arguments,n=r.createLambda(arguments[arguments.length-1]),t=this,f;return arguments.length==2?(f=arguments[0],new i(function(){var e,o,s=0;return new u(function(){e=t.getEnumerator();o=i.from(f).getEnumerator()},function(){return e.moveNext()&&o.moveNext()?this.yieldReturn(n(e.current(),o.current(),s++)):!1},function(){try{r.dispose(e)}finally{r.dispose(o)}})})):new i(function(){var f,o=0;return new u(function(){var n=i.make(t).concat(i.from(e).takeExceptLast().select(i.from)).select(function(n){return n.getEnumerator()}).toArray();f=i.from(n)},function(){if(f.all(function(n){return n.moveNext()})){var t=f.select(function(n){return n.current()}).toArray();return t.push(o++),this.yieldReturn(n.apply(null,t))}return this.yieldBreak()},function(){i.from(f).forEach(r.dispose)})})};i.prototype.merge=function(){var n=arguments,t=this;return new i(function(){var f,e=-1;return new u(function(){f=i.make(t).concat(i.from(n).select(i.from)).select(function(n){return n.getEnumerator()}).toArray()},function(){while(f.length>0){e=e>=f.length-1?0:e+1;var n=f[e];if(n.moveNext())return this.yieldReturn(n.current());n.dispose();f.splice(e--,1)}return this.yieldBreak()},function(){i.from(f).forEach(r.dispose)})})};i.prototype.join=function(n,e,o,s,h){e=r.createLambda(e);o=r.createLambda(o);s=r.createLambda(s);h=r.createLambda(h);var c=this;return new i(function(){var l,v,a=null,y=0;return new u(function(){l=c.getEnumerator();v=i.from(n).toLookup(o,f.Identity,h)},function(){for(var n,i;;){if(a!=null){if(n=a[y++],n!==t)return this.yieldReturn(s(l.current(),n));n=null;y=0}if(l.moveNext())i=e(l.current()),a=v.get(i).toArray();else return!1}},function(){r.dispose(l)})})};i.prototype.groupJoin=function(n,t,e,o,s){t=r.createLambda(t);e=r.createLambda(e);o=r.createLambda(o);s=r.createLambda(s);var h=this;return new i(function(){var c=h.getEnumerator(),l=null;return new u(function(){c=h.getEnumerator();l=i.from(n).toLookup(e,f.Identity,s)},function(){if(c.moveNext()){var n=l.get(t(c.current()));return this.yieldReturn(o(c.current(),n))}return!1},function(){r.dispose(c)})})};i.prototype.all=function(n){n=r.createLambda(n);var t=!0;return this.forEach(function(i){if(!n(i))return t=!1,!1}),t};i.prototype.any=function(n){n=r.createLambda(n);var t=this.getEnumerator();try{if(arguments.length==0)return t.moveNext();while(t.moveNext())if(n(t.current()))return!0;return!1}finally{r.dispose(t)}};i.prototype.isEmpty=function(){return!this.any()};i.prototype.concat=function(){var n=this,t,f;return arguments.length==1?(t=arguments[0],new i(function(){var e,f;return new u(function(){e=n.getEnumerator()},function(){if(f==null){if(e.moveNext())return this.yieldReturn(e.current());f=i.from(t).getEnumerator()}return f.moveNext()?this.yieldReturn(f.current()):!1},function(){try{r.dispose(e)}finally{r.dispose(f)}})})):(f=arguments,new i(function(){var t;return new u(function(){t=i.make(n).concat(i.from(f).select(i.from)).select(function(n){return n.getEnumerator()}).toArray()},function(){while(t.length>0){var n=t[0];if(n.moveNext())return this.yieldReturn(n.current());n.dispose();t.splice(0,1)}return this.yieldBreak()},function(){i.from(t).forEach(r.dispose)})}))};i.prototype.insert=function(n,t){var f=this;return new i(function(){var o,e,s=0,h=!1;return new u(function(){o=f.getEnumerator();e=i.from(t).getEnumerator()},function(){return s==n&&e.moveNext()?(h=!0,this.yieldReturn(e.current())):o.moveNext()?(s++,this.yieldReturn(o.current())):!h&&e.moveNext()?this.yieldReturn(e.current()):!1},function(){try{r.dispose(o)}finally{r.dispose(e)}})})};i.prototype.alternate=function(n){var t=this;return new i(function(){var f,e,s,o;return new u(function(){s=n instanceof Array||n.getEnumerator!=null?i.from(i.from(n).toArray()):i.make(n);e=t.getEnumerator();e.moveNext()&&(f=e.current())},function(){for(;;){if(o!=null){if(o.moveNext())return this.yieldReturn(o.current());o=null}if(f==null&&e.moveNext()){f=e.current();o=s.getEnumerator();continue}else if(f!=null){var n=f;return f=null,this.yieldReturn(n)}return this.yieldBreak()}},function(){try{r.dispose(e)}finally{r.dispose(o)}})})};i.prototype.contains=function(n,t){t=r.createLambda(t);var i=this.getEnumerator();try{while(i.moveNext())if(t(i.current())===n)return!0;return!1}finally{r.dispose(i)}};i.prototype.defaultIfEmpty=function(n){var f=this;return n===t&&(n=null),new i(function(){var t,i=!0;return new u(function(){t=f.getEnumerator()},function(){return t.moveNext()?(i=!1,this.yieldReturn(t.current())):i?(i=!1,this.yieldReturn(n)):!1},function(){r.dispose(t)})})};i.prototype.distinct=function(n){return this.except(i.empty(),n)};i.prototype.distinctUntilChanged=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i,f,e;return new u(function(){i=t.getEnumerator()},function(){while(i.moveNext()){var t=n(i.current());if(e)return e=!1,f=t,this.yieldReturn(i.current());if(f!==t)return f=t,this.yieldReturn(i.current())}return this.yieldBreak()},function(){r.dispose(i)})})};i.prototype.except=function(n,t){t=r.createLambda(t);var f=this;return new i(function(){var e,o;return new u(function(){e=f.getEnumerator();o=new v(t);i.from(n).forEach(function(n){o.add(n)})},function(){while(e.moveNext()){var n=e.current();if(!o.contains(n))return o.add(n),this.yieldReturn(n)}return!1},function(){r.dispose(e)})})};i.prototype.intersect=function(n,t){t=r.createLambda(t);var f=this;return new i(function(){var e,o,s;return new u(function(){e=f.getEnumerator();o=new v(t);i.from(n).forEach(function(n){o.add(n)});s=new v(t)},function(){while(e.moveNext()){var n=e.current();if(!s.contains(n)&&o.contains(n))return s.add(n),this.yieldReturn(n)}return!1},function(){r.dispose(e)})})};i.prototype.sequenceEqual=function(n,t){var f,u;t=r.createLambda(t);f=this.getEnumerator();try{u=i.from(n).getEnumerator();try{while(f.moveNext())if(!u.moveNext()||t(f.current())!==t(u.current()))return!1;return u.moveNext()?!1:!0}finally{r.dispose(u)}}finally{r.dispose(f)}};i.prototype.union=function(n,f){f=r.createLambda(f);var e=this;return new i(function(){var h,o,s;return new u(function(){h=e.getEnumerator();s=new v(f)},function(){var r;if(o===t){while(h.moveNext())if(r=h.current(),!s.contains(r))return s.add(r),this.yieldReturn(r);o=i.from(n).getEnumerator()}while(o.moveNext())if(r=o.current(),!s.contains(r))return s.add(r),this.yieldReturn(r);return!1},function(){try{r.dispose(h)}finally{r.dispose(o)}})})};i.prototype.orderBy=function(n){return new s(this,n,!1)};i.prototype.orderByDescending=function(n){return new s(this,n,!0)};i.prototype.reverse=function(){var n=this;return new i(function(){var t,i;return new u(function(){t=n.toArray();i=t.length},function(){return i>0?this.yieldReturn(t[--i]):!1},f.Blank)})};i.prototype.shuffle=function(){var n=this;return new i(function(){var t;return new u(function(){t=n.toArray()},function(){if(t.length>0){var n=Math.floor(Math.random()*t.length);return this.yieldReturn(t.splice(n,1)[0])}return!1},f.Blank)})};i.prototype.weightedSample=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i,r=0;return new u(function(){i=t.choose(function(t){var i=n(t);return i<=0?null:(r+=i,{value:t,bound:r})}).toArray()},function(){var t;if(i.length>0){for(var f=Math.floor(Math.random()*r)+1,u=-1,n=i.length;n-u>1;)t=Math.floor((u+n)/2),i[t].bound>=f?n=t:u=t;return this.yieldReturn(i[n].value)}return this.yieldBreak()},f.Blank)})};i.prototype.groupBy=function(n,t,f,e){var o=this;return n=r.createLambda(n),t=r.createLambda(t),f!=null&&(f=r.createLambda(f)),e=r.createLambda(e),new i(function(){var i;return new u(function(){i=o.toLookup(n,t,e).toEnumerable().getEnumerator()},function(){while(i.moveNext())return f==null?this.yieldReturn(i.current()):this.yieldReturn(f(i.current().key(),i.current()));return!1},function(){r.dispose(i)})})};i.prototype.partitionBy=function(n,t,f,e){var s=this,o;return n=r.createLambda(n),t=r.createLambda(t),e=r.createLambda(e),f==null?(o=!1,f=function(n,t){return new w(n,t)}):(o=!0,f=r.createLambda(f)),new i(function(){var h,l,a,c=[];return new u(function(){h=s.getEnumerator();h.moveNext()&&(l=n(h.current()),a=e(l),c.push(t(h.current())))},function(){for(var r,u;(r=h.moveNext())==!0;)if(a===e(n(h.current())))c.push(t(h.current()));else break;return c.length>0?(u=o?f(l,i.from(c)):f(l,c),r?(l=n(h.current()),a=e(l),c=[t(h.current())]):c=[],this.yieldReturn(u)):!1},function(){r.dispose(h)})})};i.prototype.buffer=function(n){var t=this;return new i(function(){var i;return new u(function(){i=t.getEnumerator()},function(){for(var t=[],r=0;i.moveNext();)if(t.push(i.current()),++r>=n)return this.yieldReturn(t);return t.length>0?this.yieldReturn(t):!1},function(){r.dispose(i)})})};i.prototype.aggregate=function(n,t,i){return i=r.createLambda(i),i(this.scan(n,t,i).last())};i.prototype.average=function(n){n=r.createLambda(n);var t=0,i=0;return this.forEach(function(r){t+=n(r);++i}),t/i};i.prototype.count=function(n){n=n==null?f.True:r.createLambda(n);var t=0;return this.forEach(function(i,r){n(i,r)&&++t}),t};i.prototype.max=function(n){return n==null&&(n=f.Identity),this.select(n).aggregate(function(n,t){return n>t?n:t})};i.prototype.min=function(n){return n==null&&(n=f.Identity),this.select(n).aggregate(function(n,t){return n<t?n:t})};i.prototype.maxBy=function(n){return n=r.createLambda(n),this.aggregate(function(t,i){return n(t)>n(i)?t:i})};i.prototype.minBy=function(n){return n=r.createLambda(n),this.aggregate(function(t,i){return n(t)<n(i)?t:i})};i.prototype.sum=function(n){return n==null&&(n=f.Identity),this.select(n).aggregate(0,function(n,t){return n+t})};i.prototype.elementAt=function(n){var t,i=!1;if(this.forEach(function(r,u){if(u==n)return t=r,i=!0,!1}),!i)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t};i.prototype.elementAtOrDefault=function(n,i){i===t&&(i=null);var r,u=!1;return this.forEach(function(t,i){if(i==n)return r=t,u=!0,!1}),u?r:i};i.prototype.first=function(n){if(n!=null)return this.where(n).first();var t,i=!1;if(this.forEach(function(n){return t=n,i=!0,!1}),!i)throw new Error("first:No element satisfies the condition.");return t};i.prototype.firstOrDefault=function(n,i){if(n!==t){if(typeof n===e.Function||typeof r.createLambda(n)===e.Function)return this.where(n).firstOrDefault(t,i);i=n}var u,f=!1;return this.forEach(function(n){return u=n,f=!0,!1}),f?u:i};i.prototype.last=function(n){if(n!=null)return this.where(n).last();var t,i=!1;if(this.forEach(function(n){i=!0;t=n}),!i)throw new Error("last:No element satisfies the condition.");return t};i.prototype.lastOrDefault=function(n,i){if(n!==t){if(typeof n===e.Function||typeof r.createLambda(n)===e.Function)return this.where(n).lastOrDefault(t,i);i=n}var u,f=!1;return this.forEach(function(n){f=!0;u=n}),f?u:i};i.prototype.single=function(n){if(n!=null)return this.where(n).single();var i,t=!1;if(this.forEach(function(n){if(t)throw new Error("single:sequence contains more than one element.");else t=!0,i=n}),!t)throw new Error("single:No element satisfies the condition.");return i};i.prototype.singleOrDefault=function(n,i){if(i===t&&(i=null),n!=null)return this.where(n).singleOrDefault(null,i);var u,r=!1;return this.forEach(function(n){if(r)throw new Error("single:sequence contains more than one element.");else r=!0,u=n}),r?u:i};i.prototype.skip=function(n){var t=this;return new i(function(){var i,f=0;return new u(function(){for(i=t.getEnumerator();f++<n&&i.moveNext(););},function(){return i.moveNext()?this.yieldReturn(i.current()):!1},function(){r.dispose(i)})})};i.prototype.skipWhile=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i,e=0,f=!1;return new u(function(){i=t.getEnumerator()},function(){while(!f)if(i.moveNext()){if(!n(i.current(),e++))return f=!0,this.yieldReturn(i.current());continue}else return!1;return i.moveNext()?this.yieldReturn(i.current()):!1},function(){r.dispose(i)})})};i.prototype.take=function(n){var t=this;return new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){return f++<n&&i.moveNext()?this.yieldReturn(i.current()):!1},function(){r.dispose(i)})})};i.prototype.takeWhile=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){return i.moveNext()&&n(i.current(),f++)?this.yieldReturn(i.current()):!1},function(){r.dispose(i)})})};i.prototype.takeExceptLast=function(n){n==null&&(n=1);var t=this;return new i(function(){if(n<=0)return t.getEnumerator();var i,f=[];return new u(function(){i=t.getEnumerator()},function(){while(i.moveNext()){if(f.length==n)return f.push(i.current()),this.yieldReturn(f.shift());f.push(i.current())}return!1},function(){r.dispose(i)})})};i.prototype.takeFromLast=function(n){if(n<=0||n==null)return i.empty();var t=this;return new i(function(){var o,f,e=[];return new u(function(){o=t.getEnumerator()},function(){while(o.moveNext())e.length==n&&e.shift(),e.push(o.current());return f==null&&(f=i.from(e).getEnumerator()),f.moveNext()?this.yieldReturn(f.current()):!1},function(){r.dispose(f)})})};i.prototype.indexOf=function(n){var t=null;return typeof n===e.Function?this.forEach(function(i,r){if(n(i,r))return t=r,!1}):this.forEach(function(i,r){if(i===n)return t=r,!1}),t!==null?t:-1};i.prototype.lastIndexOf=function(n){var t=-1;return typeof n===e.Function?this.forEach(function(i,r){n(i,r)&&(t=r)}):this.forEach(function(i,r){i===n&&(t=r)}),t};i.prototype.cast=function(){return this};i.prototype.asEnumerable=function(){return i.from(this)};i.prototype.toArray=function(){var n=[];return this.forEach(function(t){n.push(t)}),n};i.prototype.toLookup=function(n,i,u){n=r.createLambda(n);i=r.createLambda(i);u=r.createLambda(u);var f=new v(u);return this.forEach(function(r){var u=n(r),e=i(r),o=f.get(u);o!==t?o.push(e):f.add(u,[e])}),new k(f)};i.prototype.toObject=function(n,t){n=r.createLambda(n);t=r.createLambda(t);var i={};return this.forEach(function(r){i[n(r)]=t(r)}),i};i.prototype.toDictionary=function(n,t,i){n=r.createLambda(n);t=r.createLambda(t);i=r.createLambda(i);var u=new v(i);return this.forEach(function(i){u.add(n(i),t(i))}),u};i.prototype.toJSONString=function(n,t){if(typeof JSON===e.Undefined||JSON.stringify==null)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),n,t)};i.prototype.toJoinedString=function(n,t){return n==null&&(n=""),t==null&&(t=f.Identity),this.select(t).toArray().join(n)};i.prototype.doAction=function(n){var t=this;return n=r.createLambda(n),new i(function(){var i,f=0;return new u(function(){i=t.getEnumerator()},function(){return i.moveNext()?(n(i.current(),f++),this.yieldReturn(i.current())):!1},function(){r.dispose(i)})})};i.prototype.forEach=function(n){n=r.createLambda(n);var i=0,t=this.getEnumerator();try{while(t.moveNext())if(n(t.current(),i++)===!1)break}finally{r.dispose(t)}};i.prototype.write=function(n,t){n==null&&(n="");t=r.createLambda(t);var i=!0;this.forEach(function(r){i?i=!1:document.write(n);document.write(t(r))})};i.prototype.writeLine=function(n){n=r.createLambda(n);this.forEach(function(t){document.writeln(n(t)+"<br />")})};i.prototype.force=function(){var n=this.getEnumerator();try{while(n.moveNext());}finally{r.dispose(n)}};i.prototype.letBind=function(n){n=r.createLambda(n);var t=this;return new i(function(){var f;return new u(function(){f=i.from(n(t)).getEnumerator()},function(){return f.moveNext()?this.yieldReturn(f.current()):!1},function(){r.dispose(f)})})};i.prototype.share=function(){var i=this,n,t=!1;return new y(function(){return new u(function(){n==null&&(n=i.getEnumerator())},function(){if(t)throw new Error("enumerator is disposed");return n.moveNext()?this.yieldReturn(n.current()):!1},f.Blank)},function(){t=!0;r.dispose(n)})};i.prototype.memoize=function(){var e=this,n,t,i=!1;return new y(function(){var r=-1;return new u(function(){t==null&&(t=e.getEnumerator(),n=[])},function(){if(i)throw new Error("enumerator is disposed");return(r++,n.length<=r)?t.moveNext()?this.yieldReturn(n[r]=t.current()):!1:this.yieldReturn(n[r])},f.Blank)},function(){i=!0;r.dispose(t);n=null})};i.prototype.catchError=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i;return new u(function(){i=t.getEnumerator()},function(){try{return i.moveNext()?this.yieldReturn(i.current()):!1}catch(t){return n(t),!1}},function(){r.dispose(i)})})};i.prototype.finallyAction=function(n){n=r.createLambda(n);var t=this;return new i(function(){var i;return new u(function(){i=t.getEnumerator()},function(){return i.moveNext()?this.yieldReturn(i.current()):!1},function(){try{r.dispose(i)}finally{n()}})})};i.prototype.log=function(n){return n=r.createLambda(n),this.doAction(function(t){typeof console!==e.Undefined&&console.log(n(t))})};i.prototype.trace=function(n,t){return n==null&&(n="Trace"),t=r.createLambda(t),this.doAction(function(i){typeof console!==e.Undefined&&console.log(n,t(i))})};s=function(n,t,i,u){this.source=n;this.keySelector=r.createLambda(t);this.descending=i;this.parent=u};s.prototype=new i;s.prototype.createOrderedEnumerable=function(n,t){return new s(this.source,n,t,this)};s.prototype.thenBy=function(n){return this.createOrderedEnumerable(n,!1)};s.prototype.thenByDescending=function(n){return this.createOrderedEnumerable(n,!0)};s.prototype.getEnumerator=function(){var i=this,t,n,r=0;return new u(function(){t=[];n=[];i.source.forEach(function(i,r){t.push(i);n.push(r)});var r=a.create(i,null);r.GenerateKeys(t);n.sort(function(n,t){return r.compare(n,t)})},function(){return r<n.length?this.yieldReturn(t[n[r++]]):!1},f.Blank)};a=function(n,t,i){this.keySelector=n;this.descending=t;this.child=i;this.keys=null};a.create=function(n,t){var i=new a(n.keySelector,n.descending,t);return n.parent!=null?a.create(n.parent,i):i};a.prototype.GenerateKeys=function(n){for(var i=n.length,u=this.keySelector,r=new Array(i),t=0;t<i;t++)r[t]=u(n[t]);this.keys=r;this.child!=null&&this.child.GenerateKeys(n)};a.prototype.compare=function(n,t){var i=r.compare(this.keys[n],this.keys[t]);return i==0?this.child!=null?this.child.compare(n,t):r.compare(n,t):this.descending?-i:i};y=function(n,t){this.dispose=t;i.call(this,n)};y.prototype=new i;o=function(n){this.getSource=function(){return n}};o.prototype=new i;o.prototype.any=function(n){return n==null?this.getSource().length>0:i.prototype.any.apply(this,arguments)};o.prototype.count=function(n){return n==null?this.getSource().length:i.prototype.count.apply(this,arguments)};o.prototype.elementAt=function(n){var t=this.getSource();return 0<=n&&n<t.length?t[n]:i.prototype.elementAt.apply(this,arguments)};o.prototype.elementAtOrDefault=function(n,i){i===t&&(i=null);var r=this.getSource();return 0<=n&&n<r.length?r[n]:i};o.prototype.first=function(n){var t=this.getSource();return n==null&&t.length>0?t[0]:i.prototype.first.apply(this,arguments)};o.prototype.firstOrDefault=function(n,r){if(n!==t)return i.prototype.firstOrDefault.apply(this,arguments);r=n;var u=this.getSource();return u.length>0?u[0]:r};o.prototype.last=function(n){var t=this.getSource();return n==null&&t.length>0?t[t.length-1]:i.prototype.last.apply(this,arguments)};o.prototype.lastOrDefault=function(n,r){if(n!==t)return i.prototype.lastOrDefault.apply(this,arguments);r=n;var u=this.getSource();return u.length>0?u[u.length-1]:r};o.prototype.skip=function(n){var t=this.getSource();return new i(function(){var i;return new u(function(){i=n<0?0:n},function(){return i<t.length?this.yieldReturn(t[i++]):!1},f.Blank)})};o.prototype.takeExceptLast=function(n){return n==null&&(n=1),this.take(this.getSource().length-n)};o.prototype.takeFromLast=function(n){return this.skip(this.getSource().length-n)};o.prototype.reverse=function(){var n=this.getSource();return new i(function(){var t;return new u(function(){t=n.length},function(){return t>0?this.yieldReturn(n[--t]):!1},f.Blank)})};o.prototype.sequenceEqual=function(n,t){return(n instanceof o||n instanceof Array)&&t==null&&i.from(n).count()!=this.count()?!1:i.prototype.sequenceEqual.apply(this,arguments)};o.prototype.toJoinedString=function(n,t){var r=this.getSource();return t!=null||!(r instanceof Array)?i.prototype.toJoinedString.apply(this,arguments):(n==null&&(n=""),r.join(n))};o.prototype.getEnumerator=function(){var n=this.getSource(),t=-1;return{current:function(){return n[t]},moveNext:function(){return++t<n.length},dispose:f.Blank}};h=function(n,t){this.prevSource=n;this.prevPredicate=t};h.prototype=new i;h.prototype.where=function(n){if(n=r.createLambda(n),n.length<=1){var t=this.prevPredicate,u=function(i){return t(i)&&n(i)};return new h(this.prevSource,u)}return i.prototype.where.call(this,n)};h.prototype.select=function(n){return n=r.createLambda(n),n.length<=1?new c(this.prevSource,this.prevPredicate,n):i.prototype.select.call(this,n)};h.prototype.getEnumerator=function(){var t=this.prevPredicate,i=this.prevSource,n;return new u(function(){n=i.getEnumerator()},function(){while(n.moveNext())if(t(n.current()))return this.yieldReturn(n.current());return!1},function(){r.dispose(n)})};c=function(n,t,i){this.prevSource=n;this.prevPredicate=t;this.prevSelector=i};c.prototype=new i;c.prototype.where=function(n){return n=r.createLambda(n),n.length<=1?new h(this,n):i.prototype.where.call(this,n)};c.prototype.select=function(n){if(n=r.createLambda(n),n.length<=1){var t=this.prevSelector,u=function(i){return n(t(i))};return new c(this.prevSource,this.prevPredicate,u)}return i.prototype.select.call(this,n)};c.prototype.getEnumerator=function(){var t=this.prevPredicate,i=this.prevSelector,f=this.prevSource,n;return new u(function(){n=f.getEnumerator()},function(){while(n.moveNext())if(t==null||t(n.current()))return this.yieldReturn(i(n.current()));return!1},function(){r.dispose(n)})};var v=function(){var n=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r=function(n){return n===null?"null":n===t?"undefined":typeof n.toString===e.Function?n.toString():Object.prototype.toString.call(n)},h=function(n,t){this.key=n;this.value=t;this.prev=null;this.next=null},o=function(){this.first=null;this.last=null},s;return o.prototype={addLast:function(n){this.last!=null?(this.last.next=n,n.prev=this.last,this.last=n):this.first=this.last=n},replace:function(n,t){n.prev!=null?(n.prev.next=t,t.prev=n.prev):this.first=t;n.next!=null?(n.next.prev=t,t.next=n.next):this.last=t},remove:function(n){n.prev!=null?n.prev.next=n.next:this.first=n.next;n.next!=null?n.next.prev=n.prev:this.last=n.prev}},s=function(n){this.countField=0;this.entryList=new o;this.buckets={};this.compareSelector=n==null?f.Identity:n},s.prototype={add:function(t,i){var s=this.compareSelector(t),o=r(s),e=new h(t,i),u,f;if(n(this.buckets,o)){for(u=this.buckets[o],f=0;f<u.length;f++)if(this.compareSelector(u[f].key)===s){this.entryList.replace(u[f],e);u[f]=e;return}u.push(e)}else this.buckets[o]=[e];this.countField++;this.entryList.addLast(e)},get:function(i){var o=this.compareSelector(i),s=r(o),f,u,e;if(!n(this.buckets,s))return t;for(f=this.buckets[s],u=0;u<f.length;u++)if(e=f[u],this.compareSelector(e.key)===o)return e.value;return t},set:function(t,i){var o=this.compareSelector(t),s=r(o),f,u,e;if(n(this.buckets,s))for(f=this.buckets[s],u=0;u<f.length;u++)if(this.compareSelector(f[u].key)===o)return e=new h(t,i),this.entryList.replace(f[u],e),f[u]=e,!0;return!1},contains:function(t){var f=this.compareSelector(t),e=r(f),u,i;if(!n(this.buckets,e))return!1;for(u=this.buckets[e],i=0;i<u.length;i++)if(this.compareSelector(u[i].key)===f)return!0;return!1},clear:function(){this.countField=0;this.buckets={};this.entryList=new o},remove:function(t){var e=this.compareSelector(t),f=r(e),i,u;if(n(this.buckets,f))for(i=this.buckets[f],u=0;u<i.length;u++)if(this.compareSelector(i[u].key)===e){this.entryList.remove(i[u]);i.splice(u,1);i.length==0&&delete this.buckets[f];this.countField--;return}},count:function(){return this.countField},toEnumerable:function(){var n=this;return new i(function(){var t;return new u(function(){t=n.entryList.first},function(){if(t!=null){var n={key:t.key,value:t.value};return t=t.next,this.yieldReturn(n)}return!1},f.Blank)})}},s}(),k=function(n){this.count=function(){return n.count()};this.get=function(t){return i.from(n.get(t))};this.contains=function(t){return n.contains(t)};this.toEnumerable=function(){return n.toEnumerable().select(function(n){return new w(n.key,n.value)})}},w=function(n,t){this.key=function(){return n};o.call(this,t)};w.prototype=new o;typeof define===e.Function&&define.amd?define("linqjs",[],function(){return i}):typeof module!==e.Undefined&&module.exports?module.exports=i:n.Enumerable=i})(this);!function e(n,t,i){function r(u,e){var s,o;if(!t[u]){if(!n[u]){if(s="function"==typeof require&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);throw new Error("Cannot find module '"+u+"'");}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,e,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,t,i){(function(t,r,u){function u(n,t,i){var e,o,f,r;if(!(this instanceof u))return new u(n,t,i);if(e=typeof n,"base64"===t&&"string"===e)for(n=ii(n);n.length%4!=0;)n+="=";if("number"===e)o=et(n);else if("string"===e)o=u.byteLength(n,t);else{if("object"!==e)throw new Error("First argument needs to be a number, array or string.");o=et(n.length)}if(u._useTypedArrays?f=u._augment(new Uint8Array(o)):(f=this,f.length=o,f._isBuffer=!0),u._useTypedArrays&&"number"==typeof n.byteLength)f._set(n);else if(ri(n))for(r=0;o>r;r++)f[r]=u.isBuffer(n)?n.readUInt8(r):n[r];else if("string"===e)f.write(n,0,t);else if("number"===e&&!u._useTypedArrays&&!i)for(r=0;o>r;r++)f[r]=0;return f}function vt(n,t,i,r){var o,s,e,h;for(i=Number(i)||0,o=n.length-i,r?(r=Number(r),r>o&&(r=o)):r=o,s=t.length,f(s%2==0,"Invalid hex string"),r>s/2&&(r=s/2),e=0;r>e;e++)h=parseInt(t.substr(2*e,2),16),f(!isNaN(h),"Invalid hex string"),n[i+e]=h;return u._charsWritten=2*e,e}function yt(n,t,i,r){return u._charsWritten=h(ht(t),n,i,r)}function w(n,t,i,r){return u._charsWritten=h(ui(t),n,i,r)}function pt(n,t,i,r){return w(n,t,i,r)}function wt(n,t,i,r){return u._charsWritten=h(ct(t),n,i,r)}function bt(n,t,i,r){return u._charsWritten=h(fi(t),n,i,r)}function kt(n,t,i){return 0===t&&i===n.length?p.fromByteArray(n):p.fromByteArray(n.slice(t,i))}function dt(n,t,i){var f="",u="",r;for(i=Math.min(n.length,i),r=t;i>r;r++)n[r]<=127?(f+=lt(u)+String.fromCharCode(n[r]),u=""):u+="%"+n[r].toString(16);return f+lt(u)}function b(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;i>r;r++)u+=String.fromCharCode(n[r]);return u}function gt(n,t,i){return b(n,t,i)}function ni(n,t,i){var f=n.length,u,r;for((!t||0>t)&&(t=0),(!i||0>i||i>f)&&(i=f),u="",r=t;i>r;r++)u+=st(n[r]);return u}function ti(n,t,i){for(var u=n.slice(t,i),f="",r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+256*u[r+1]);return f}function l(n,t,i,r){var e,u;return r||(f("boolean"==typeof i,"missing or invalid endian"),f(void 0!==t&&null!==t,"missing offset"),f(t+1<n.length,"Trying to read beyond buffer length")),e=n.length,(t>=e)?void 0:(i?(u=n[t],e>t+1&&(u|=n[t+1]<<8)):(u=n[t]<<8,e>t+1&&(u|=n[t+1])),u)}function a(n,t,i,r){var e,u;return r||(f("boolean"==typeof i,"missing or invalid endian"),f(void 0!==t&&null!==t,"missing offset"),f(t+3<n.length,"Trying to read beyond buffer length")),e=n.length,(t>=e)?void 0:(i?(e>t+2&&(u=n[t+2]<<16),e>t+1&&(u|=n[t+1]<<8),u|=n[t],e>t+3&&(u+=n[t+3]<<24>>>0)):(e>t+1&&(u=n[t+1]<<16),e>t+2&&(u|=n[t+2]<<8),e>t+3&&(u|=n[t+3]),u+=n[t]<<24>>>0),u)}function k(n,t,i,r){var e,u,o;return r||(f("boolean"==typeof i,"missing or invalid endian"),f(void 0!==t&&null!==t,"missing offset"),f(t+1<n.length,"Trying to read beyond buffer length")),e=n.length,(t>=e)?void 0:(u=l(n,t,i,!0),o=32768&u,o?-1*(65536-u):u)}function d(n,t,i,r){var e,u,o;return r||(f("boolean"==typeof i,"missing or invalid endian"),f(void 0!==t&&null!==t,"missing offset"),f(t+3<n.length,"Trying to read beyond buffer length")),e=n.length,(t>=e)?void 0:(u=a(n,t,i,!0),o=2147483648&u,o?-1*(4294967296-u):u)}function g(n,t,i,r){return r||(f("boolean"==typeof i,"missing or invalid endian"),f(t+3<n.length,"Trying to read beyond buffer length")),c.read(n,t,i,23,4)}function nt(n,t,i,r){return r||(f("boolean"==typeof i,"missing or invalid endian"),f(t+7<n.length,"Trying to read beyond buffer length")),c.read(n,t,i,52,8)}function o(n,t,i,r,u){var o,e,s;if(u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+1<n.length,"trying to write beyond buffer length"),v(t,65535)),o=n.length,!(i>=o))for(e=0,s=Math.min(o-i,2);s>e;e++)n[i+e]=(t&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function s(n,t,i,r,u){var o,e,s;if(u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+3<n.length,"trying to write beyond buffer length"),v(t,4294967295)),o=n.length,!(i>=o))for(e=0,s=Math.min(o-i,4);s>e;e++)n[i+e]=t>>>8*(r?e:3-e)&255}function tt(n,t,i,r,u){u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+1<n.length,"Trying to write beyond buffer length"),y(t,32767,-32768));var e=n.length;i>=e||(t>=0?o(n,t,i,r,u):o(n,65535+t+1,i,r,u))}function it(n,t,i,r,u){u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+3<n.length,"Trying to write beyond buffer length"),y(t,2147483647,-2147483648));var e=n.length;i>=e||(t>=0?s(n,t,i,r,u):s(n,4294967295+t+1,i,r,u))}function rt(n,t,i,r,u){u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+3<n.length,"Trying to write beyond buffer length"),at(t,34028234663852886e22,-34028234663852886e22));var e=n.length;i>=e||c.write(n,t,i,r,23,4)}function ut(n,t,i,r,u){u||(f(void 0!==t&&null!==t,"missing value"),f("boolean"==typeof r,"missing or invalid endian"),f(void 0!==i&&null!==i,"missing offset"),f(i+7<n.length,"Trying to write beyond buffer length"),at(t,17976931348623157e292,-17976931348623157e292));var e=n.length;i>=e||c.write(n,t,i,r,52,8)}function ii(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function ft(n,t,i){return"number"!=typeof n?i:(n=~~n,n>=t?t:n>=0?n:(n+=t,n>=0?n:0))}function et(n){return n=~~Math.ceil(+n),0>n?0:n}function ot(n){return(Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)})(n)}function ri(n){return ot(n)||u.isBuffer(n)||n&&"object"==typeof n&&"number"==typeof n.length}function st(n){return 16>n?"0"+n.toString(16):n.toString(16)}function ht(n){for(var r,e,f,u,i=[],t=0;t<n.length;t++)if(r=n.charCodeAt(t),127>=r)i.push(n.charCodeAt(t));else for(e=t,r>=55296&&57343>=r&&t++,f=encodeURIComponent(n.slice(e,t+1)).substr(1).split("%"),u=0;u<f.length;u++)i.push(parseInt(f[u],16));return i}function ui(n){for(var i=[],t=0;t<n.length;t++)i.push(255&n.charCodeAt(t));return i}function fi(n){for(var t,u,f,i=[],r=0;r<n.length;r++)t=n.charCodeAt(r),u=t>>8,f=t%256,i.push(f),i.push(u);return i}function ct(n){return p.toByteArray(n)}function h(n,t,i,r){for(var u=0;r>u&&!(u+i>=t.length||u>=n.length);u++)t[u+i]=n[u];return u}function lt(n){try{return decodeURIComponent(n)}catch(t){return String.fromCharCode(65533)}}function v(n,t){f("number"==typeof n,"cannot write a non-number as a number");f(n>=0,"specified a negative value for writing an unsigned value");f(t>=n,"value is larger than maximum value for type");f(Math.floor(n)===n,"value has a fractional component")}function y(n,t,i){f("number"==typeof n,"cannot write a non-number as a number");f(t>=n,"value larger than maximum allowed value");f(n>=i,"value smaller than minimum allowed value");f(Math.floor(n)===n,"value has a fractional component")}function at(n,t,i){f("number"==typeof n,"cannot write a non-number as a number");f(t>=n,"value larger than maximum allowed value");f(n>=i,"value smaller than minimum allowed value")}function f(n,t){if(!n)throw new Error(t||"Failed assertion");}var p=n("base64-js"),c=n("ieee754"),e;i.Buffer=u;i.SlowBuffer=u;i.INSPECT_MAX_BYTES=50;u.poolSize=8192;u._useTypedArrays=function(){try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},42===n.foo()&&"function"==typeof n.subarray}catch(i){return!1}}();u.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};u.isBuffer=function(n){return!(null===n||void 0===n||!n._isBuffer)};u.byteLength=function(n,t){var i;switch(n+="",t||"utf8"){case"hex":i=n.length/2;break;case"utf8":case"utf-8":i=ht(n).length;break;case"ascii":case"binary":case"raw":i=n.length;break;case"base64":i=ct(n).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=2*n.length;break;default:throw new Error("Unknown encoding");}return i};u.concat=function(n,t){var i,r,e,o;if(f(ot(n),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===n.length)return new u(0);if(1===n.length)return n[0];if("number"!=typeof t)for(t=0,i=0;i<n.length;i++)t+=n[i].length;for(r=new u(t),e=0,i=0;i<n.length;i++)o=n[i],o.copy(r,e),e+=o.length;return r};u.prototype.write=function(n,t,i,r){var e,f,u;isFinite(t)?isFinite(i)||(r=i,i=void 0):(e=r,r=t,t=i,i=e);t=Number(t)||0;f=this.length-t;i?(i=Number(i),i>f&&(i=f)):i=f;r=String(r||"utf8").toLowerCase();switch(r){case"hex":u=vt(this,n,t,i);break;case"utf8":case"utf-8":u=yt(this,n,t,i);break;case"ascii":u=w(this,n,t,i);break;case"binary":u=pt(this,n,t,i);break;case"base64":u=wt(this,n,t,i);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":u=bt(this,n,t,i);break;default:throw new Error("Unknown encoding");}return u};u.prototype.toString=function(n,t,i){var r=this,u;if(n=String(n||"utf8").toLowerCase(),t=Number(t)||0,i=void 0!==i?Number(i):i=r.length,i===t)return"";switch(n){case"hex":u=ni(r,t,i);break;case"utf8":case"utf-8":u=dt(r,t,i);break;case"ascii":u=b(r,t,i);break;case"binary":u=gt(r,t,i);break;case"base64":u=kt(r,t,i);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":u=ti(r,t,i);break;default:throw new Error("Unknown encoding");}return u};u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};u.prototype.copy=function(n,t,i,r){var s=this,o,e;if(i||(i=0),r||0===r||(r=this.length),t||(t=0),r!==i&&0!==n.length&&0!==s.length)if(f(r>=i,"sourceEnd < sourceStart"),f(t>=0&&t<n.length,"targetStart out of bounds"),f(i>=0&&i<s.length,"sourceStart out of bounds"),f(r>=0&&r<=s.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),n.length-t<r-i&&(r=n.length-t+i),o=r-i,100>o||!u._useTypedArrays)for(e=0;o>e;e++)n[e+t]=this[e+i];else n._set(this.subarray(i,i+o),t)};u.prototype.slice=function(n,t){var r=this.length;if(n=ft(n,r,0),t=ft(t,r,r),u._useTypedArrays)return u._augment(this.subarray(n,t));for(var f=t-n,e=new u(f,void 0,!0),i=0;f>i;i++)e[i]=this[i+n];return e};u.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)};u.prototype.set=function(n,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,t)};u.prototype.readUInt8=function(n,t){return t||(f(void 0!==n&&null!==n,"missing offset"),f(n<this.length,"Trying to read beyond buffer length")),n>=this.length?void 0:this[n]};u.prototype.readUInt16LE=function(n,t){return l(this,n,!0,t)};u.prototype.readUInt16BE=function(n,t){return l(this,n,!1,t)};u.prototype.readUInt32LE=function(n,t){return a(this,n,!0,t)};u.prototype.readUInt32BE=function(n,t){return a(this,n,!1,t)};u.prototype.readInt8=function(n,t){if(t||(f(void 0!==n&&null!==n,"missing offset"),f(n<this.length,"Trying to read beyond buffer length")),!(n>=this.length)){var i=128&this[n];return i?-1*(256-this[n]):this[n]}};u.prototype.readInt16LE=function(n,t){return k(this,n,!0,t)};u.prototype.readInt16BE=function(n,t){return k(this,n,!1,t)};u.prototype.readInt32LE=function(n,t){return d(this,n,!0,t)};u.prototype.readInt32BE=function(n,t){return d(this,n,!1,t)};u.prototype.readFloatLE=function(n,t){return g(this,n,!0,t)};u.prototype.readFloatBE=function(n,t){return g(this,n,!1,t)};u.prototype.readDoubleLE=function(n,t){return nt(this,n,!0,t)};u.prototype.readDoubleBE=function(n,t){return nt(this,n,!1,t)};u.prototype.writeUInt8=function(n,t,i){i||(f(void 0!==n&&null!==n,"missing value"),f(void 0!==t&&null!==t,"missing offset"),f(t<this.length,"trying to write beyond buffer length"),v(n,255));t>=this.length||(this[t]=n)};u.prototype.writeUInt16LE=function(n,t,i){o(this,n,t,!0,i)};u.prototype.writeUInt16BE=function(n,t,i){o(this,n,t,!1,i)};u.prototype.writeUInt32LE=function(n,t,i){s(this,n,t,!0,i)};u.prototype.writeUInt32BE=function(n,t,i){s(this,n,t,!1,i)};u.prototype.writeInt8=function(n,t,i){i||(f(void 0!==n&&null!==n,"missing value"),f(void 0!==t&&null!==t,"missing offset"),f(t<this.length,"Trying to write beyond buffer length"),y(n,127,-128));t>=this.length||(n>=0?this.writeUInt8(n,t,i):this.writeUInt8(255+n+1,t,i))};u.prototype.writeInt16LE=function(n,t,i){tt(this,n,t,!0,i)};u.prototype.writeInt16BE=function(n,t,i){tt(this,n,t,!1,i)};u.prototype.writeInt32LE=function(n,t,i){it(this,n,t,!0,i)};u.prototype.writeInt32BE=function(n,t,i){it(this,n,t,!1,i)};u.prototype.writeFloatLE=function(n,t,i){rt(this,n,t,!0,i)};u.prototype.writeFloatBE=function(n,t,i){rt(this,n,t,!1,i)};u.prototype.writeDoubleLE=function(n,t,i){ut(this,n,t,!0,i)};u.prototype.writeDoubleBE=function(n,t,i){ut(this,n,t,!1,i)};u.prototype.fill=function(n,t,i){if(n||(n=0),t||(t=0),i||(i=this.length),"string"==typeof n&&(n=n.charCodeAt(0)),f("number"==typeof n&&!isNaN(n),"value is not a number"),f(i>=t,"end < start"),i!==t&&0!==this.length){f(t>=0&&t<this.length,"start out of bounds");f(i>=0&&i<=this.length,"end out of bounds");for(var r=t;i>r;r++)this[r]=n}};u.prototype.inspect=function(){for(var t=[],r=this.length,n=0;r>n;n++)if(t[n]=st(this[n]),n===i.INSPECT_MAX_BYTES){t[n+1]="...";break}return"<Buffer "+t.join(" ")+">"};u.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(u._useTypedArrays)return new u(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser");};e=u.prototype;u._augment=function(n){return n._isBuffer=!0,n._get=n.get,n._set=n.set,n.get=e.get,n.set=e.set,n.write=e.write,n.toString=e.toString,n.toLocaleString=e.toString,n.toJSON=e.toJSON,n.copy=e.copy,n.slice=e.slice,n.readUInt8=e.readUInt8,n.readUInt16LE=e.readUInt16LE,n.readUInt16BE=e.readUInt16BE,n.readUInt32LE=e.readUInt32LE,n.readUInt32BE=e.readUInt32BE,n.readInt8=e.readInt8,n.readInt16LE=e.readInt16LE,n.readInt16BE=e.readInt16BE,n.readInt32LE=e.readInt32LE,n.readInt32BE=e.readInt32BE,n.readFloatLE=e.readFloatLE,n.readFloatBE=e.readFloatBE,n.readDoubleLE=e.readDoubleLE,n.readDoubleBE=e.readDoubleBE,n.writeUInt8=e.writeUInt8,n.writeUInt16LE=e.writeUInt16LE,n.writeUInt16BE=e.writeUInt16BE,n.writeUInt32LE=e.writeUInt32LE,n.writeUInt32BE=e.writeUInt32BE,n.writeInt8=e.writeInt8,n.writeInt16LE=e.writeInt16LE,n.writeInt16BE=e.writeInt16BE,n.writeInt32LE=e.writeInt32LE,n.writeInt32BE=e.writeInt32BE,n.writeFloatLE=e.writeFloatLE,n.writeFloatBE=e.writeFloatBE,n.writeDoubleLE=e.writeDoubleLE,n.writeDoubleBE=e.writeDoubleBE,n.fill=e.fill,n.inspect=e.inspect,n.toArrayBuffer=e.toArrayBuffer,n}}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer\\index.js","/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer")},{"base64-js":2,buffer:1,ieee754:3,ngpmcQ:4}],2:[function(n,t,i){(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function i(n){var t=n.charCodeAt(0);return t===h||t===l?62:t===c||t===a?63:r>t?-1:r+10>t?t-r+26+26:f+26>t?t-f:u+26>t?t-u+26:void 0}function e(n){function u(n){e[l++]=n}var t,h,c,r,f,e,o,l;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");for(o=n.length,f="="===n.charAt(o-2)?2:"="===n.charAt(o-1)?1:0,e=new s(3*n.length/4-f),c=f>0?n.length-4:n.length,l=0,t=0,h=0;c>t;t+=4,h+=3)r=i(n.charAt(t))<<18|i(n.charAt(t+1))<<12|i(n.charAt(t+2))<<6|i(n.charAt(t+3)),u((16711680&r)>>16),u((65280&r)>>8),u(255&r);return 2===f?(r=i(n.charAt(t))<<2|i(n.charAt(t+1))>>4,u(255&r)):1===f&&(r=i(n.charAt(t))<<10|i(n.charAt(t+1))<<4|i(n.charAt(t+2))>>2,u(r>>8&255),u(255&r)),e}function o(t){function i(t){return n.charAt(t)}function s(n){return i(n>>18&63)+i(n>>12&63)+i(n>>6&63)+i(63&n)}for(var r,o=t.length%3,u="",f=0,e=t.length-o;e>f;f+=3)r=(t[f]<<16)+(t[f+1]<<8)+t[f+2],u+=s(r);switch(o){case 1:r=t[t.length-1];u+=i(r>>2);u+=i(r<<4&63);u+="==";break;case 2:r=(t[t.length-2]<<8)+t[t.length-1];u+=i(r>>10);u+=i(r>>4&63);u+=i(r<<2&63);u+="="}return u}var s="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),r="0".charCodeAt(0),u="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),a="_".charCodeAt(0);t.toByteArray=e;t.fromByteArray=o}("undefined"==typeof i?this.base64js={}:i)}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer\\node_modules\\base64-js\\lib\\b64.js","/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer\\node_modules\\base64-js\\lib")},{buffer:1,ngpmcQ:4}],3:[function(n,t,i){(function(){i.read=function(n,t,i,r,u){var f,o,l=8*u-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=256*f+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=256*o+n[t+s],s+=c,e-=8);if(0===f)f=1-v;else{if(f===a)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,r);f-=v}return(h?-1:1)*o*Math.pow(2,f-r)};i.write=function(n,t,i,r,u,f){var e,o,s,l=8*f-u-1,a=(1<<l)-1,h=a>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=255&o,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=255&e,c+=v,e/=256,l-=8);n[i+c-v]|=128*p}}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer\\node_modules\\ieee754\\index.js","/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\buffer\\node_modules\\ieee754")},{buffer:1,ngpmcQ:4}],4:[function(n,t){(function(n){function i(){}var n=t.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,i="undefined"!=typeof window&&window.postMessage&&window.addEventListener,n;return t?function(n){return window.setImmediate(n)}:i?(n=[],window.addEventListener("message",function(t){var i=t.source,r;(i===window||null===i)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)&&(r=n.shift(),r())},!0),function(t){n.push(t);window.postMessage("process-tick","*")}):function(n){setTimeout(n,0)}}();n.title="browser";n.browser=!0;n.env={};n.argv=[];n.on=i;n.addListener=i;n.once=i;n.off=i;n.removeListener=i;n.removeAllListeners=i;n.emit=i;n.binding=function(){throw new Error("process.binding is not supported");};n.cwd=function(){return"/"};n.chdir=function(){throw new Error("process.chdir is not supported");}}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\process\\browser.js","/..\\..\\node_modules\\gulp-browserify\\node_modules\\browserify\\node_modules\\process")},{buffer:1,ngpmcQ:4}],5:[function(n,t,i){(function(){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof i?t.exports=r():n.structuredLog.sink.console=r()}(this,function(){function n(n){var i=this,t;i.toString=function(){return"ConsoleSink"};n=n||{};t={log:function(){},info:function(){},warn:function(){},error:function(){}};"object"==typeof console&&(t.log=function(n,t){t?console.log(n,t):console.log(n)},t.info=function(n,t){t?console.info(n,t):console.info(n)},t.warn=function(n,t){t?console.warn(n,t):console.warn(n)},t.error=function(n,t){t?console.error(n,t):console.error(n)});i.emit=function(i){i.forEach(function(i){var r="";n.timestamp&&(r+=i.timestamp.toISOString().replace("T"," ").replace("Z","")+" ");r+="["+i.level.slice(0,3)+"] "+i.messageTemplate.render(i.properties);"ERROR"===i.level?t.error(r,n.complete?i.properties:null):"WARN"===i.level?t.warn(r,n.complete?i.properties:null):"INFO"===i.level?t.info(r,n.complete?i.properties:null):t.log(r,n.complete?i.properties:null)})}}return function(t){return new n(t)}})}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/console-sink.js","/")},{buffer:1,ngpmcQ:4}],6:[function(n){(function(){!function(){window.structuredLog=n("../core/structured-log.js");window.structuredLog.consoleSink=n("./console-sink.js")}()}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_28fdfe87.js","/")},{"../core/structured-log.js":7,"./console-sink.js":5,buffer:1,ngpmcQ:4}],7:[function(n,t,i){(function(){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof i?t.exports=r():n.structuredLog=r()}(this,function(){function ut(n){if(!n||"string"!=typeof n)throw new Error("Expected "+typeof n+" to be a string.");}function n(n){if(!n||"function"!=typeof n)throw new Error("Expected "+typeof n+" to be a function.");}function i(n){if(!n||"object"!=typeof n)throw new Error("Expected "+typeof n+" to be an object.");}function f(n){if(!n||"[object Array]"!==Object.prototype.toString.call(n))throw new Error("Expected "+typeof n+" to be an array.");}function c(n){var i=this,r,f,t,e,u;for(i.raw=n,i.tokens=[],f=/\{@?\w+}/g,t=0;null!==(r=f.exec(n));)r.index!==t&&i.tokens.push({text:n.slice(t,r.index)}),e=!1,u=r[0].slice(1,-1),0===u.indexOf("@")&&(u=u.slice(1),e=!0),i.tokens.push({name:u,destructure:e,raw:r[0]}),t=f.lastIndex;t>=0&&t<n.length&&i.tokens.push({text:n.slice(t)})}function a(n,t,i,r){var u=this;u.timestamp=n;u.level=t;u.messageTemplate=i;u.properties=r}function v(n){var r=this,i;if(r.levels={},"OFF"!==n)for(var u=[b,nt,l,tt,it],f=!1,t=0;t<u.length;++t)i=u[t],r.levels[i]=!f,i===n&&(f=!0)}function h(n){var t,i,r;if(f(n),n.length<1)throw new Error("No pipeline stages defined!");for(t=this,t.pipelineStages=n,t.headStage=t.pipelineStages[0],i=0;i<t.pipelineStages.length-1;++i)r=t.pipelineStages[i+1],t.pipelineStages[i].setNextStage(r)}function ft(){var n=this,f=l,r=[];n.addStage=function(t){return i(t),r.push(t),n};n.minLevel=function(t){if(0!==r.length){var i=new v(t);return n.filter(function(n){return i.isEnabled(n.level)})}return f=(t||l).toUpperCase(),n};n.writeTo=function(t,i){return"function"!=typeof t.emit&&"function"==typeof t?n.writeTo({emit:t,toString:function(){return"function"}},i):n.addStage(new e(t.toString(),t.emit,t.flush,t.close,i))};n.enrich=function(t,i){if("object"==typeof t)return n.enrich(function(){return t},i);if("function"==typeof t)return n.addStage(new u(t,i));throw new Error("Events can be enriched using either a function, or a hash of properties");};n.filter=function(t){return n.addStage(new o(t))};n.batch=function(i){return n.addStage(new t(i||{}))};n.create=function(){return k(new v(f),new h(r))}}function y(){var n=this;n.sink={};n.filter={};n.enrich={};n.filter.selfLog=function(){return function(n){return n.filter(function(n){return n.properties.isSelfLog})}};n.filter.notSelfLog=function(){return function(n){return n.filter(function(n){return!n.properties.isSelfLog})}};n.enrich.withStack=function(){return function(n){try{throw new Error("getstack");}catch(i){var t=i.stack;0===t.indexOf("Error: getstack")&&(t=t.slice(t.indexOf("\n")+1));t=t.replace(/^[ ]+/g,"");n.forEach(function(n){n.properties.hasOwnProperty("stack")||(n.properties.stack=t)})}}}}var p=function(n,t){return"function"==typeof n?n.toString():"object"==typeof n?t||"function"==typeof n.toISOString?n:n.toString():n},d,g,w,r,e,rt,t,o,u,s,k;c.prototype.bindProperties=function(n){for(var i,o,f,e=this,r={},t=0,u=0;u<e.tokens.length&&t<n.length;++u)i=e.tokens[u],"string"==typeof i.name&&(o=n[t],r[i.name]=p(o,i.destructure),t++);for(;t<n.length;)f=n[t],"undefined"!=typeof f&&(r["a"+t]=p(f)),t++;return r};d=function(n){if("undefined"==typeof n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n;if("number"==typeof n||"boolean"==typeof n)return n.toString();if("function"==typeof n.toISOString)return n.toISOString();if("object"==typeof n){var t=JSON.stringify(n);return t.length>70&&(t=t.slice(0,67)+"..."),t}return n.toString()};c.prototype.render=function(n){for(var t,u=this,i=[],r=0;r<u.tokens.length;++r)t=u.tokens[r],"string"==typeof t.name?n.hasOwnProperty(t.name)?i.push(d(n[t.name])):i.push(t.raw):i.push(t.text);return i.join("")};g=function(n,t,i){n.forEach(function(n){for(var r in t)t.hasOwnProperty(r)&&!n.properties.hasOwnProperty(r)&&(n.properties[r]=p(t[r],i))})};w=function(){var t=Array.prototype.shift.call(arguments),i=Array.prototype.shift.call(arguments),n=new c(i),r=n.bindProperties(arguments);return new a(new Date,t,n,r)};a.prototype.renderedMessage=function(){var n=this;return n.messageTemplate.render(n.properties)};var b="ERROR",nt="WARN",l="INFO",tt="DEBUG",it="VERBOSE";return v.prototype.isEnabled=function(n){var t=this;return t.levels[n||"NONE"]||!1},r=function(){var t=arguments[arguments.length-1],r;if(n(t),arguments.length<=1)return void t();for(var u=arguments.length-1,f=!1,e=function(){f||(--u,0>=u&&(f=!0,t()))},i=0;i<arguments.length-1;++i)r=arguments[i],n(r),r(e)},e=function(t,i,r,u,f){ut(t);n(i);r&&n(r);u&&n(u);f&&n(f);var e=this;this.sinkName=t;e.sinkEmit=i;e.sinkFlush=r;e.sinkClose=u;e.onError=f},e.prototype.setNextStage=function(n){i(n);var t=this;t.nextStage=n},rt=function(n){return"string"==typeof n?n:n.stack?n.stack.toString():n.toString()},e.prototype.emit=function(t,i){f(t);n(i);var u=this,e=function(n){try{u.sinkEmit.length>1?u.sinkEmit(t,n):(u.sinkEmit(t),n())}catch(i){if("function"==typeof u.onError)u.onError(i,t,n);else if(u.nextStage){var r=w(b,"Failed to write to {sink}: {error}",u.sinkName,rt(i));r.properties.isSelfLog=!0;u.nextStage.emit([r],n)}else n()}},o=function(n){u.nextStage?u.nextStage.emit(t,n):n()};r(e,o,i)},e.prototype.flush=function(t){n(t);var i=this,u=function(n){i.sinkFlush?i.sinkFlush.length>0?i.sinkFlush(n):(i.sinkFlush(),n()):n()},f=function(n){i.nextStage?i.nextStage.flush(n):n()};r(u,f,t)},e.prototype.close=function(t){n(t);var i=this;i.flush(function(){var n=function(n){i.sinkClose?i.sinkClose.length>0?i.sinkClose(n):(i.sinkClose(),n()):n()},u=function(n){i.nextStage?i.nextStage.close(n):n()};r(n,u,t)})},t=function(n){i(n);var t=this;t.config=n;t.batchedLogEvts=[];t.lastFlushTime=(new Date).getTime();t.config.batchSize||(t.config.batchSize=100);t.config.timeDuration||(t.config.timeDuration=1e3)},t.prototype.setNextStage=function(n){i(n);var t=this;t.nextStage=n},t.prototype.flushBatch=function(t){n(t);var i=this;i.nextStage.emit(i.batchedLogEvts,t);i.batchedLogEvts=[]},t.prototype.startFlushTimer=function(){var n=this;n.batchFlushTimer=setTimeout(function(){n.flushBatch(function(){})},n.config.timeDuration)},t.prototype.cancelFlushTimer=function(){var n=this;n.batchFlushTimer&&(clearTimeout(n.batchFlushTimer),n.batchFlushTimer=null)},t.prototype.emit=function(t,i){var r,u;f(t);n(i);r=this;r.cancelFlushTimer();(new Date).getTime();r.batchedLogEvts=r.batchedLogEvts.concat(t);u=r.batchedLogEvts.length>=r.config.batchSize||r.config.timeDuration&&r.curTime-r.lastFlushTime>r.config.timeDuration;u?r.flushBatch(function(){}):(r.startFlushTimer(),i())},t.prototype.flush=function(t){n(t);var i=this;i.batchedLogEvts.length>0?(i.nextStage.emit(i.batchedLogEvts,function(){i.nextStage.flush(t)}),i.batchedLogEvts=[]):i.nextStage.flush(t)},t.prototype.close=function(t){n(t);var i=this;i.flush(function(){i.nextStage.close(t)})},o=function(t){n(t);var i=this;i.filterPredicate=t},o.prototype.setNextStage=function(n){i(n);var t=this;t.nextStage=n},o.prototype.emit=function(t,i){f(t);n(i);var r=this,u=t.filter(r.filterPredicate);u.length>0},o.prototype.flush=function(t){n(t);var i=this;i.nextStage.flush(t)},o.prototype.close=function(t){n(t);var i=this;i.flush(function(){i.nextStage.close(t)})},u=function(t,i){n(t);var r=this;r.enrichFn=t;r.destructure=i},u.prototype.setNextStage=function(n){i(n);var t=this;t.nextStage=n},u.prototype.emit=function(t,i){f(t);n(i);var r=this;g(t,r.enrichFn(),r.destructure);r.nextStage.emit(t,i)},u.prototype.flush=function(t){n(t);var i=this;i.nextStage.flush(t)},u.prototype.close=function(t){n(t);var i=this;i.flush(function(){i.nextStage.close(t)})},s=function(n){i(n);var t=this;t.pipeline=n},s.prototype.setNextStage=function(n){i(n);var t=this;t.nextStage=n},s.prototype.emit=function(t,i){f(t);n(i);var u=this,e=function(n){u.pipeline.emit(t,n)},o=function(n){u.nextStage?u.nextStage.emit(t,n):n()};r(e,o,i)},s.prototype.flush=function(t){n(t);var i=this,u=function(n){i.pipeline.flush(n)},f=function(n){i.nextStage?i.nextStage.flush(n):n()};r(u,f,t)},s.prototype.close=function(t){n(t);var i=this;i.flush(function(){var n=function(n){i.pipeline.close(n)},u=function(n){i.nextStage?i.nextStage.close(n):n()};r(n,u,t)})},h.prototype.emit=function(n,t){var i=this;i.headStage.emit(n,t)},h.prototype.flush=function(n){var t=this;t.headStage.flush(n)},h.prototype.close=function(n){var t=this;t.headStage.close(n)},k=function(n,t){var i=function(){i.info.apply(null,arguments)},r;return i.toString=function(){return"Logger"},i.emit=function(i){i=i.filter(function(t){return n.isEnabled(t.level)});t.emit(i,function(){})},r=function(i,r,u){if(n.isEnabled(i)){var f=new c(r),e=f.bindProperties(u),o=new a(new Date,i,f,e);t.emit([o],function(){})}},i.verbose=function(){var n=Array.prototype.shift.call(arguments);r(it,n,arguments)},i.debug=function(){var n=Array.prototype.shift.call(arguments);r(tt,n,arguments)},i.info=function(){var n=Array.prototype.shift.call(arguments);r(l,n,arguments)},i.warn=function(){var n=Array.prototype.shift.call(arguments);r(nt,n,arguments)},i.error=function(){var n=Array.prototype.shift.call(arguments);r(b,n,arguments)},i.enrich=function(i,r){var f=new h([new u(function(){return i},r),new s(t)]);return k(n,f)},i.flush=function(n){t.flush(n)},i.close=function(n){t.close(n)},i},y.prototype.configure=function(){return new ft},y.prototype.event=w,new y})}).call(this,n("ngpmcQ"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/..\\core\\structured-log.js","/..\\core")},{buffer:1,ngpmcQ:4}]},{},[6]),function(n,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports=t():n.structuredLog.sink.http=t()}(this,function(){var n=function(n){if(!n)throw new Error("'options' parameter is required.");if(!n.url)throw new Error("'options.url' parameter is required.");var t=this;t.toString=function(){return"HttpSink"};t.emit=function(t){var i=t.map(function(n){var t=n.messageTemplate.render(n.properties),i=Enumerable.from(Object.keys(n.properties)).select(function(t){return{propertyName:t,propertyValue:n.properties[t]}}).toObject(function(n){return n.propertyName},function(n){return{Value:n.propertyValue}});return{Timestamp:n.timestamp,Level:n.level,MessageTemplate:n.messageTemplate.raw,RenderedMessage:t,Properties:i}}),r={Logs:i},u={url:n.url,method:"POST",json:r};$.ajax({url:n.url,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i),async:!0}).fail(function(n,t,i){window.console&&console.log("Logging error. Status="+n.status+", StatusText="+n.statusText+" Error Thrown="+i)})}};return function(t){return new n(t)}});cf_serilog=structuredLog.configure().writeTo(structuredLog.sink.http({url:"https://cflgwebapi.cfdomains.com/Logs/ReservationApi"})).create();(navigator.userAgent.indexOf("Googlebot")>=0||navigator.userAgent.indexOf("AdsBot-Google")>=0||navigator.userAgent.indexOf("bingbot.htm")>=0||navigator.userAgent.indexOf("Yahoo Ad monitoring")>=0)&&(is_bot=!0);(navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/WPDesktop/i)||navigator.userAgent.match(/ZuneWP7/i))&&(is_wp=!0);typeof JSON!="object"&&(JSON={});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(n,t,i){var r;if(gap="",indent="",typeof i=="number")for(r=0;r<i;r+=1)indent+=" ";else typeof i=="string"&&(indent=i);if(rep=t,t&&typeof t!="function"&&(typeof t!="object"||typeof t.length!="number"))throw new Error("JSON.stringify");return str("",{"":n})});$.extend({error:function(n){throw n;},parseJSON:function(n){if(typeof n!="string"||!n)return null;if(n=jQuery.trim(n),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.JSON&&window.JSON.parse?window.JSON.parse(n):new Function("return "+n)();jQuery.error("Invalid JSON: "+n)}});RegExp.escape=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};$(function(){function n(){var t,u,n;rc_enable_log;t=[];u=[];hideNumberFields();$("[ringpoolid]").each(function(){n=$(this).attr("ringpoolid");IsNumeric(n)&&$.inArray(n,t)==-1&&t.push(n)});$("a[ringpoolid]").each(function(){n=$(this).attr("ringpoolid");IsNumeric(n)&&(this.href.match("^tel:")!=null||$.inArray(n,u)!=-1||is_wp||$(this).click(function(n){var u,r;n.preventDefault();u=this.href;try{var f=$(this).attr("ringpoolid"),s="rc_"+f,e=this,o=!0,i=window.open("","_blank"),t=!1,h=[];try{r=getQueryVariableByName($(this).attr("href"),subIdParam);cf_getCookie(s+"_linkout")==""||r!=""&&cf_getCookie(cookieName)!=r?r!=""?(h.push(f),cf_getPhoneNumber(h,2,function(n){var r,u;n.length==1&&(r=!1,n[0].number.length>0&&(u=cf_decodeHtml(n[0].number),o=!1,r=!0),r&&cf_setCookie(s+"_linkout",n[0].number,null),t||(t=!0,r?cf_setLinkoutNumbers(e,f,n[0].number,i):i.location=e.href))})):(o=!1,t=!0,i.location=e.href):(o=!1,t||(t=!0,cf_setLinkoutNumbers(e,f,cf_getCookie(s+"_linkout"),i)));r!=""&&setTimeout(function(){o&&(t||(t=!0,i.location=u,$.ajax({dataType:"jsonp",type:"get",url:(baseURL+"/api/ReserveTimeout/").concat("?ringPoolIDs=",JSON.stringify(h),"&subid=",cf_getSubId(),"&typeid=2&camid=",getCamId(),"&callback=?")})))},1e3)}catch(c){i.location=u}}catch(c){window.location=u}}))});var f=!0,i=[],r=[];$.each(t,function(n,t){var u=t,e="rc_"+u;cf_getCookie(e+"_offer")==""||cf_getParameterByName(subIdParam)!=""&&cf_getCookie(cookieName)!=cf_getParameterByName(subIdParam)?cf_hasParameterByName(subIdParam)&&(f=!1,i.push(u)):r.push(u)});i!=null&&i.length>0&&cf_getPhoneNumber(i,1,function(n){$(n).each(function(){if(this.number.length>0){var t=cf_decodeHtml(this.number),n="rc_"+this.ring_pool_id;cf_setCookie(n+"_offer",this.number,null);cf_setDisplayNumbers(this.ring_pool_id,this.number)}});typeof cl_rs_callback=="function"&&cl_rs_callback()});r!=null&&r.length>0&&($.each(r,function(n,t){var i=t,r="rc_"+i;cf_setDisplayNumbers(i,cf_getCookie(r+"_offer"))}),typeof cl_rs_callback=="function"&&cl_rs_callback())}cf_getParameterByName("phone")==""&&(is_bot||(typeof cl_object=="object"?cl_on_complete(function(){n()}):n()))})